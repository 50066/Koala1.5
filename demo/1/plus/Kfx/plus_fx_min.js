(function(g){var f=g.Koala,c=Math.pow,e=Math.sin,m=Math.PI,i=1.70158,d=1,h="KoloaData"+(+new Date()+"").slice(-8),b=[],k={};f.P.fn.extend({fx:function(){return new j(this)}});var l={Easing:{linear:function(n){return n},easeIn:function(n){return n*n},easeOut:function(n){return(2-n)*n},easeBoth:function(n){return(n*=2)<1?0.5*n*n:0.5*(1-(--n)*(n-2))},easeInStrong:function(n){return n*n*n*n},easeOutStrong:function(n){return 1-(--n)*n*n*n},easeBothStrong:function(n){return(n*=2)<1?0.5*n*n*n*n:0.5*(2-(n-=2)*n*n*n)},easeOutQuart:function(n){return -(c((n-1),4)-1)},easeInOutExpo:function(n){if(n===0){return 0}if(n===1){return 1}if((n/=0.5)<1){return 0.5*c(2,10*(n-1))}return 0.5*(-c(2,-10*--n)+2)},easeOutExpo:function(n){return(n===1)?1:-c(2,-10*n)+1},swingFrom:function(n){return n*n*((i+1)*n-i)},swingTo:function(n){return(n-=1)*n*((i+1)*n+i)+1},backIn:function(n){if(n===1){n-=0.001}return n*n*((i+1)*n-i)},backOut:function(n){return(n-=1)*n*((i+1)*n+i)+1},bounce:function(n){var o=7.5625,p;if(n<(1/2.75)){p=o*n*n}else{if(n<(2/2.75)){p=o*(n-=(1.5/2.75))*n+0.75}else{if(n<(2.5/2.75)){p=o*(n-=(2.25/2.75))*n+0.9375}else{p=o*(n-=(2.625/2.75))*n+0.984375}}}return p}},speed:{slow:600,fast:200,defaults:400},fxAttrs:function(p,o){var n=[["width","height","opacity","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],["height","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"],["opacity"]];return{attrs:n[o],type:p}},getStyleNew:function(o,n){if((n==="left"||n==="right"||n==="top"||n==="bottom")&&o.getStyle(n)==="auto"){return"0px"}if((n==="marginRight"||n==="marginLeft"||n==="marginTop"||n==="marginBottom")&&o.getStyle(n)==="auto"){return"0px"}if(n==="opacity"){var q=o.opacity();return(q===1||q===0)?q.toFixed(0):q.toFixed(1)}if((n==="borderTopWidth"||n==="borderRightWidth"||n==="borderBottomWidth"||n==="borderLeftWidth")&&(o.getStyle(n)==="thin"||o.getStyle(n)==="medium"||o.getStyle(n)==="thick")){return"0px"}return o.getStyle(n)},parseColor:function(t){var s,q,p;if(/rgb/.test(t)){var o=t.match(/\d+/g);s=o[0];q=o[1];p=o[2]}else{if(/#/.test(t)){var n=t.length;if(n===7){s=parseInt(t.slice(1,3),16);q=parseInt(t.slice(3,5),16);p=parseInt(t.slice(5),16)}else{if(n===4){s=parseInt(t.charAt(1)+t.charAt(1),16);q=parseInt(t.charAt(2)+t.charAt(2),16);p=parseInt(t.charAt(3)+t.charAt(3),16)}}}else{return t}}return{r:parseFloat(s),g:parseFloat(q),b:parseFloat(p)}},parseStyle:function(p){var o=parseFloat(p),n=p.replace(/^[\-\d\.]+/,"");return isNaN(o)?{val:this.parseColor(n),unit:"",fn:function(s,t,u,x){var w=(s.r+(t.r-s.r)*x).toFixed(0),v=(s.g+(t.g-s.g)*x).toFixed(0),q=(s.b+(t.b-s.b)*x).toFixed(0);return"rgb("+w+","+v+","+q+")"}}:{val:o,unit:n,fn:function(q,r,s,t){return(q+(r-q)*t).toFixed(3)+s}}},newObj:function(n,p){p=p!==undefined?p:1;var o={};f.A.each(n,function(q,r){o[q]=p});return o},setOptions:function(q,p,s,r){var n=this,o={};o.duration=(function(t){if(f.C.isNumber(t)){return t}else{if(f.C.isString(t)&&n.speed[t]){return n.speed[t]}else{if(!t){return n.speed.defaults}}}})(p);o.callback=function(){if(f.C.isFunction(r)){r()}n.dequeue(q)};o.easing=(function(t){if(f.C.isString(t)&&l.Easing[t]){return l.Easing[t]}else{if(f.C.isFunction(t)){return t}else{return l.Easing.easeBoth}}})(s);return o},setProps:function(r,q,o){if(o){var n=q().attrs,o=q().type,u,t,s;if(o==="hide"){u=n[0]==="opacity"?"0":"0px"}t=this.newObj(n,u);if(o==="show"){for(s in t){t[s]=this.getStyleNew(r,s)}}return t}else{if(q&&typeof q==="object"){return q}}},data:function(o,r,q){if(f.C.isString(o)){if(r!==undefined){k[o]=r}return k[o]}else{if(f.C.isObj(o)){var n,p;if(!o[h]){n=o[h]=++d;p=k[n]={}}else{n=o[h];p=k[n]}if(!p[h]){p[h]={}}if(q!==undefined){p[h][r]=q}return p[h][r]}}},removeData:function(p,r){if(f.C.isString(p)){delete k[p]}else{if(f.C.isObj(p)){if(!p[h]){return}var q=function(t){var s;for(s in t){return false}return true},o=function(){try{delete p[h]}catch(s){p.removeAttribute(h)}},n=p[h];if(r){delete k[n][h][r];if(q(k[n][h])){delete k[n];o()}}else{delete k[n];o()}}}},queue:function(o,n){var p=this.data(o,"KQueue")||this.data(o,"KQueue",[]);if(n){p.push(n)}if(p[0]!=="runing"){this.dequeue(o)}},dequeue:function(p){var n=this,q=n.data(p,"KQueue")||n.data(p,"KQueue",[]),o=q.shift();if(o==="runing"){o=q.shift()}if(o){q.unshift("runing");if(f.C.isNumber(o)){setTimeout(function(){n.dequeue(p)},o)}else{if(f.C.isFunction(o)){o.call(p,function(){n.dequeue(p)})}}}if(!q.length){n.removeData(p,"KQueue")}},setOpacity:function(n,o){if("getComputedStyle" in g){n.node.style.opacity=o===1?"":o}else{n.node.style.zoom=1;n.node.style.filter=o===1?"":"alpha(opacity="+o*100+")"}}};var a=function(q,n,p,o){this.ele=q;this.options=n;this.props=p;this.type=o};a.prototype={start:function(o,p){this.startTime=+new Date();this.source=o;this.target=p;b.push(this);var n=this;if(n.timer){return}n.timer=g.setInterval(function(){for(var q=0,r;r=b[q++];){r.run()}if(!b.length){n.stop()}},13)},run:function(r){var F=this.ele,A=this.type,B=this.props,o=this.startTime,G=+new Date(),q=this.options.duration,v=o+q,E=G>v?1:(G-o)/q,z=this.options.easing(E),y=0,s=0,n;for(n in B){y+=1}F.css("overflow","hidden");if(A==="show"){F.css("display","block")}for(n in B){s+=1;var D=this.source[n].val,u=this.target[n].val,w=this.target[n].unit;if(r||G>=v){F.css("overflow","");if(A==="hide"){F.css("display","none")}if(A){if(n==="opacity"){l.setOpacity(F,1)}else{F.css(n,(A==="hide"?D:u)+w)}}else{F.css(n,/color/i.test(n)?"rgb("+u.r+","+u.g+","+u.b+")":u+w)}if(s===y){this.complete();this.options.callback.call(F)}}else{if(D===u){continue}var C=this.target[n].fn(D,u,w,z);if(n==="opacity"){l.setOpacity(F,(D+(u-D)*z).toFixed(3))}else{F.css(n,C)}}}},complete:function(){for(var n=b.length-1;n>=0;n--){if(this===b[n]){b.splice(n,1)}}},stop:function(){window.clearInterval(this.timer);this.timer=undefined}};var j=function(n){this.ele=n};j.prototype={go:function(p,r,t,s){var q=this.ele,o,n=l.setOptions(this.ele,r,t,s);if(f.C.isFunction(p)){o=p().type}else{o=null}p=l.setProps(q,p,o);l.queue(q,function(){var v={},x={},w;f.A.each(p,function(y,z){if(o==="show"){if(z==="opacity"){l.setOpacity(q,"0")}else{q.css(z,"0px")}}v[z]=l.parseStyle(l.getStyleNew(q,z));x[z]=l.parseStyle(p[z])});var u=new a(q,n,p,o);u.start(v,x)});return this},delay:function(n){if(f.C.isNumber(n)){l.queue(this.ele,n)}return this},fadeOut:function(n,p,o){this.go(function(){return l.fxAttrs("hide",2)},n,p,o);return this},fadeIn:function(n,p,o){this.go(function(){return l.fxAttrs("show",2)},n,p,o);return this},show:function(o,q,p){var n=this.ele;if(o){this.go(function(){return l.fxAttrs("show",0)},o,q,p)}else{n.show()}return this},hide:function(o,q,p){var n=this.ele;if(o){this.go(function(){return l.fxAttrs("hide",0)},o,q,p)}else{n.hide()}return this},slideDown:function(n,p,o){this.go(function(){return l.fxAttrs("show",1)},n,p,o);return this},slideUp:function(n,p,o){this.go(function(){return l.fxAttrs("hide",1)},n,p,o);return this},slideToggle:function(o,q,p){var n=this.ele;l.getStyleNew(n,"display")==="none"?this.slideDown(o,q,p):this.slideUp(o,q,p);return this},showToggle:function(o,q,p){var n=this.ele;l.getStyleNew(n,"display")==="none"?this.show(o,q,p):this.hide(o,q,p);return this},fadeToggle:function(o,q,p){var n=this.ele;l.getStyleNew(n,"display")==="none"?this.fadeIn(o,q,p):this.fadeOut(o,q,p);return this}}})(window);